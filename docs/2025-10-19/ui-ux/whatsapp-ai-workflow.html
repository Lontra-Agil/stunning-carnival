<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WhatsApp & AI-Assisted Dialog Workflow</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3 {
            color: #2563eb;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 8px;
        }

        h1 { font-size: 2.5em; margin-bottom: 30px; }
        h2 { font-size: 2em; margin-top: 40px; }
        h3 { font-size: 1.5em; margin-top: 30px; }

        .info {
            background: #e0f2fe;
            border-left: 4px solid #0891b2;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }

        .warning {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }

        .success {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 6px 6px 0;
        }

        .nav {
            background: #f8fafc;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .nav li {
            display: inline-block;
            margin-right: 20px;
        }

        .nav a {
            color: #2563eb;
            text-decoration: none;
            font-weight: 500;
        }

        .nav a:hover {
            text-decoration: underline;
        }

        .mermaid {
            text-align: center;
            margin: 30px 0;
            background: #ffffff;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e5e7eb;
        }

        .phase-description {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .phase-card {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            background: #f9fafb;
        }

        .phase-card-title {
            font-weight: bold;
            color: #1f2937;
            font-size: 1.1em;
            margin-bottom: 10px;
        }

        .phase-1 { border-left: 4px solid #8b5cf6; }
        .phase-2 { border-left: 4px solid #3b82f6; }
        .phase-3 { border-left: 4px solid #10b981; }
        .phase-4 { border-left: 4px solid #f59e0b; }
        .phase-5 { border-left: 4px solid #ef4444; }
        .phase-6 { border-left: 4px solid #6366f1; }

        .benefits {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .benefit-item {
            background: #f0fdf4;
            border-left: 3px solid #10b981;
            padding: 15px;
            border-radius: 0 6px 6px 0;
        }

        .benefit-title {
            font-weight: bold;
            color: #047857;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
    <nav class="nav">
        <ul>
            <li><a href="../index.html">‚Üê Documenta√ß√£o</a></li>
            <li><a href="#overview">Vis√£o Geral</a></li>
            <li><a href="#diagram">Diagrama</a></li>
            <li><a href="#phases">Fases</a></li>
            <li><a href="#benefits">Benef√≠cios</a></li>
        </ul>
    </nav>

    <h1>WhatsApp & AI-Assisted Dialog Workflow</h1>

    <div class="success">
        <strong>üéØ Interface Priorit√°ria da Plataforma</strong><br>
        Este workflow descreve a interface prim√°ria da plataforma: <strong>WhatsApp com di√°logo assistido por IA</strong>. Esta abordagem prioriza intera√ß√µes conversacionais em vez de UI web tradicional, tornando a plataforma acess√≠vel e intuitiva para todos os usu√°rios.
    </div>

    <h2 id="overview">üì± Vis√£o Geral</h2>

    <p>A plataforma utiliza WhatsApp como canal principal de comunica√ß√£o, com um Agente de IA mediando todas as intera√ß√µes entre contratantes e desenvolvedores. Este modelo traz diversos benef√≠cios em rela√ß√£o a interfaces web tradicionais.</p>

    <div class="info">
        <strong>üîë Princ√≠pios Fundamentais:</strong>
        <ul>
            <li><strong>WhatsApp como Interface Principal:</strong> Usu√°rios (especialmente contratantes) interagem principalmente via WhatsApp</li>
            <li><strong>Comunica√ß√£o Mediada por IA:</strong> O agente de IA estrutura, formata e facilita toda a comunica√ß√£o</li>
            <li><strong>Processamento de Linguagem Natural:</strong> Usu√°rios se comunicam naturalmente sem aprender padr√µes complexos de UI</li>
            <li><strong>Gerenciamento Automatizado de Workflow:</strong> A IA cuida de transi√ß√µes de estado, notifica√ß√µes e coordena√ß√£o</li>
        </ul>
    </div>

    <h2 id="diagram">üìä Diagrama de Sequ√™ncia Completo</h2>

    <div class="warning">
        <strong>‚ö†Ô∏è Observa√ß√£o Importante:</strong><br>
        Este diagrama representa o fluxo completo do projeto, da cria√ß√£o inicial at√© a finaliza√ß√£o. Cada fase √© coordenada pelo Agente de IA atrav√©s do WhatsApp, garantindo comunica√ß√£o clara e rastre√°vel.
    </div>

    <pre class="mermaid">
sequenceDiagram
    participant C as Contratante
    participant AI as Agente de IA
    participant D as Desenvolvedor
    participant S as Stripe

    Note over C,AI: FASE 1 - CRIA√á√ÉO DO PEDIDO
    C->>AI: Envia WhatsApp + Descri√ß√£o do Projeto
    AI->>AI: Processa e estrutura informa√ß√µes
    AI->>C: Confirma recebimento e explica processo
    AI->>D: Notifica sobre novo pedido dispon√≠vel

    Note over AI,D: FASE 2 - PROPOSTAS DOS DEVS
    D->>AI: Solicita lista de pedidos dispon√≠veis
    AI->>D: Envia resumo dos pedidos
    D->>AI: Envia proposta (valor, MVP, cronograma)
    AI->>AI: Estrutura proposta para apresenta√ß√£o
    AI->>C: Envia proposta formatada via WhatsApp

    Note over C,AI: FASE 3 - NEGOCIA√á√ÉO E ACEITE
    C->>AI: Pergunta sobre proposta ou negocia
    AI->>D: Encaminha d√∫vidas/negocia√ß√£o
    D->>AI: Responde com ajustes na proposta
    AI->>C: Apresenta contraproposta
    C->>AI: "ACEITO proposta X"

    Note over AI,S: FASE 4 - FORMALIZA√á√ÉO
    AI->>D: Notifica aceite e solicita detalhes finais
    AI->>S: Cria link de pagamento inicial
    AI->>C: Envia link Stripe para pagamento
    C->>S: Realiza pagamento
    S->>AI: Confirma pagamento
    AI->>D: Notifica pagamento confirmado - Iniciar desenvolvimento

    Note over D,AI: FASE 5 - CICLO DE DESENVOLVIMENTO
    loop Entregas Parciais
        D->>AI: Notifica entrega parcial
        AI->>AI: Prepara instru√ß√µes de valida√ß√£o
        AI->>C: Notifica entrega + instru√ß√µes de teste
        C->>AI: Feedback (Aceito/Corre√ß√µes)
        alt Corre√ß√µes necess√°rias
            AI->>D: Encaminha feedback para ajustes
        else Aceito
            AI->>S: Gera link pagamento parcela
            AI->>C: Envia link pagamento
            C->>S: Realiza pagamento
            S->>AI: Confirma pagamento
            AI->>D: Notifica pagamento confirmado
        end
    end

    Note over AI,C: FASE 6 - FINALIZA√á√ÉO
    D->>AI: Solicita aprova√ß√£o final
    AI->>C: Envia relat√≥rio final + instru√ß√µes valida√ß√£o
    C->>AI: "APROVO FINAL" ou "CANCELAR"
    alt Aprova√ß√£o Final
        AI->>S: Gera link pagamento final
        AI->>C: Envia link pagamento final
        C->>S: Realiza pagamento final
        S->>AI: Confirma pagamento final
        AI->>D: Notifica conclus√£o e pagamento
        AI->>C: Agradece e encerra projeto
    else Cancelamento
        AI->>D: Notifica cancelamento
        AI->>C: Processa encerramento com feedback
    end
</pre>

    <h2 id="phases">üîÑ Fases Detalhadas do Workflow</h2>

    <h3>Fase 1: Cria√ß√£o do Pedido</h3>

    <div class="phase-description">
        <div class="phase-card phase-1">
            <div class="phase-card-title">1. Contratante envia mensagem</div>
            <p>O contratante envia uma mensagem no WhatsApp descrevendo o projeto que deseja desenvolver.</p>
        </div>

        <div class="phase-card phase-1">
            <div class="phase-card-title">2. IA processa informa√ß√µes</div>
            <p>O agente de IA analisa, estrutura e organiza as informa√ß√µes do projeto usando NLU (Natural Language Understanding).</p>
        </div>

        <div class="phase-card phase-1">
            <div class="phase-card-title">3. Confirma√ß√£o e notifica√ß√£o</div>
            <p>A IA confirma o recebimento ao contratante, explica o processo e notifica desenvolvedores sobre o novo pedido.</p>
        </div>
    </div>

    <h3>Fase 2: Propostas dos Desenvolvedores</h3>

    <div class="phase-description">
        <div class="phase-card phase-2">
            <div class="phase-card-title">1. Desenvolvedor consulta pedidos</div>
            <p>Desenvolvedores solicitam √† IA a lista de pedidos dispon√≠veis que correspondem ao seu perfil.</p>
        </div>

        <div class="phase-card phase-2">
            <div class="phase-card-title">2. IA envia resumos</div>
            <p>A IA envia resumos estruturados dos projetos, destacando requisitos principais e caracter√≠sticas.</p>
        </div>

        <div class="phase-card phase-2">
            <div class="phase-card-title">3. Envio de proposta</div>
            <p>Desenvolvedor envia proposta com valor, escopo do MVP e cronograma. A IA formata e apresenta ao contratante.</p>
        </div>
    </div>

    <h3>Fase 3: Negocia√ß√£o e Aceite</h3>

    <div class="phase-description">
        <div class="phase-card phase-3">
            <div class="phase-card-title">1. Perguntas e negocia√ß√£o</div>
            <p>Contratante faz perguntas sobre a proposta ou negocia termos via WhatsApp.</p>
        </div>

        <div class="phase-card phase-3">
            <div class="phase-card-title">2. Media√ß√£o da IA</div>
            <p>A IA encaminha d√∫vidas ao desenvolvedor e retorna respostas formatadas ao contratante.</p>
        </div>

        <div class="phase-card phase-3">
            <div class="phase-card-title">3. Aceite formal</div>
            <p>Contratante aceita a proposta com comando simples: "ACEITO proposta X".</p>
        </div>
    </div>

    <h3>Fase 4: Formaliza√ß√£o</h3>

    <div class="phase-description">
        <div class="phase-card phase-4">
            <div class="phase-card-title">1. Notifica√ß√£o de aceite</div>
            <p>IA notifica o desenvolvedor sobre o aceite e solicita detalhes finais para in√≠cio do projeto.</p>
        </div>

        <div class="phase-card phase-4">
            <div class="phase-card-title">2. Gera√ß√£o de pagamento</div>
            <p>IA cria link de pagamento inicial via Stripe e envia ao contratante pelo WhatsApp.</p>
        </div>

        <div class="phase-card phase-4">
            <div class="phase-card-title">3. Confirma√ß√£o e in√≠cio</div>
            <p>Ap√≥s confirma√ß√£o do pagamento pelo Stripe, a IA autoriza o desenvolvedor a iniciar o trabalho.</p>
        </div>
    </div>

    <h3>Fase 5: Ciclo de Desenvolvimento</h3>

    <div class="phase-description">
        <div class="phase-card phase-5">
            <div class="phase-card-title">1. Entregas parciais</div>
            <p>Desenvolvedor notifica a IA sobre cada entrega parcial do projeto.</p>
        </div>

        <div class="phase-card phase-5">
            <div class="phase-card-title">2. Valida√ß√£o do contratante</div>
            <p>IA prepara instru√ß√µes de teste e envia ao contratante para valida√ß√£o da entrega.</p>
        </div>

        <div class="phase-card phase-5">
            <div class="phase-card-title">3. Feedback loop</div>
            <p>Se aprovado: pagamento da parcela. Se corre√ß√µes necess√°rias: retorno ao desenvolvedor.</p>
        </div>
    </div>

    <h3>Fase 6: Finaliza√ß√£o</h3>

    <div class="phase-description">
        <div class="phase-card phase-6">
            <div class="phase-card-title">1. Solicita√ß√£o de aprova√ß√£o final</div>
            <p>Desenvolvedor solicita aprova√ß√£o final do projeto √† IA.</p>
        </div>

        <div class="phase-card phase-6">
            <div class="phase-card-title">2. Relat√≥rio final</div>
            <p>IA envia relat√≥rio completo e instru√ß√µes de valida√ß√£o final ao contratante.</p>
        </div>

        <div class="phase-card phase-6">
            <div class="phase-card-title">3. Conclus√£o ou cancelamento</div>
            <p><strong>Aprova√ß√£o:</strong> Pagamento final e encerramento com sucesso<br>
               <strong>Cancelamento:</strong> Processo de encerramento com feedback</p>
        </div>
    </div>

    <h2 id="benefits">‚ú® Benef√≠cios desta Abordagem</h2>

    <div class="benefits">
        <div class="benefit-item">
            <div class="benefit-title">üì± Barreira de Entrada Baixa</div>
            N√£o √© necess√°rio aprender uma interface web complexa. Todos sabem usar WhatsApp.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">üïê Disponibilidade 24/7</div>
            WhatsApp est√° sempre dispon√≠vel em dispositivos m√≥veis, permitindo intera√ß√µes a qualquer momento.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">üí¨ Intera√ß√µes Naturais</div>
            Interface conversacional parece intuitiva e familiar para todos os usu√°rios.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">ü§ñ Coordena√ß√£o Automatizada</div>
            IA cuida de agendamento, lembretes e gerenciamento de estado automaticamente.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">üìã Comunica√ß√£o Estruturada</div>
            IA garante que todas as informa√ß√µes necess√°rias sejam coletadas de forma organizada.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">üåç Suporte Multi-idioma</div>
            IA pode traduzir e localizar conversas em tempo real.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">üìä Rastreamento Completo</div>
            Todas as intera√ß√µes ficam registradas no hist√≥rico do WhatsApp.
        </div>

        <div class="benefit-item">
            <div class="benefit-title">‚ö° Notifica√ß√µes Instant√¢neas</div>
            Usu√°rios recebem atualiza√ß√µes em tempo real sobre o status do projeto.
        </div>
    </div>

    <h2>üîß Considera√ß√µes de Implementa√ß√£o</h2>

    <div class="info">
        <strong>Tecnologias e Integra√ß√µes Necess√°rias:</strong>
        <ul>
            <li><strong>WhatsApp Business API:</strong> Para comunica√ß√£o em escala com usu√°rios</li>
            <li><strong>NLU (Natural Language Understanding):</strong> Para reconhecimento de inten√ß√µes e extra√ß√£o de entidades</li>
            <li><strong>Gerenciamento de Contexto:</strong> Para conversas multi-turno e manuten√ß√£o de estado</li>
            <li><strong>Stripe API:</strong> Para gera√ß√£o de links de pagamento e webhooks de confirma√ß√£o</li>
            <li><strong>Sistema de Notifica√ß√µes:</strong> Para alertar desenvolvedores sobre novos pedidos e atualiza√ß√µes</li>
            <li><strong>M√°quina de Estados:</strong> Para controlar as fases do workflow de forma robusta</li>
            <li><strong>Trilha de Auditoria:</strong> Para registrar e armazenar todas as intera√ß√µes</li>
            <li><strong>Sistema de Templates:</strong> Para formata√ß√£o consistente de mensagens</li>
        </ul>
    </div>

    <h2>üìÑ Arquivos Relacionados</h2>

    <div class="info">
        <ul>
            <li><strong>whatsapp-ai-workflow.mermaid</strong> - C√≥digo fonte do diagrama Mermaid</li>
            <li><strong>whatsapp-ai-workflow.md</strong> - Documenta√ß√£o em Markdown</li>
        </ul>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'default',
            sequence: {
                useMaxWidth: true,
                wrap: true,
                diagramMarginX: 50,
                diagramMarginY: 10,
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35,
                mirrorActors: true
            }
        });
    </script>
</body>
</html>
